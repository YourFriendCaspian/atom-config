
/* IMPORTS */

(function() {
  var ClockView, StatusView, Timer, fs, mkdirp, moment, path, twix;

  fs = null;

  path = require("path");

  moment = null;

  twix = null;

  mkdirp = null;

  ClockView = null;

  StatusView = null;


  /* EXPORTS */

  module.exports = Timer = (function() {

    /* ATTRIBUTES */
    Timer.prototype.storagePath = null;

    Timer.prototype.projectTimekeeperPath = null;

    Timer.prototype.currentProject = null;

    Timer.prototype.clockView = null;

    Timer.prototype.statusView = null;

    Timer.prototype.isActive = false;


    /* CONSTRUCTOR */

    function Timer(state, timeDataPath) {
      this.currentProject = atom.project.getPath();
      this.storagePath = timeDataPath || null;
      this.setStoragePath();
      if (state) {
        if (state.timerObject && state.timerObject.start) {
          this.save(state.timerObject);
        }
      }
      if (this.currentProject) {
        this.setProjectTimekeeperPath();
        this.startTimestamp = null;
        this.pauseTimestamp = null;
        this.endTimestamp = null;
        this.autoPauseStartTimestamp = null;
        this.autoPauseEndTimestamp = null;
        this.clock = 0;
        this["break"] = 0;
        this.pauses = [];
        this.autoPauses = [];
        this.autoEnable = atom.config.get("timekeeper.autoEnableTimeTrackingOnLoad");
      } else {
        throw {
          stack: "- Timekeeper is active & functional only with a valid project open"
        };
      }
    }


    /* ACTIONS */


    /* AUTO-START */

    Timer.prototype.autostart = function() {
      if (this.autoEnable === true) {
        return this.start();
      }
    };


    /* START */

    Timer.prototype.start = function() {
      if (this.pauseTimestamp === null) {
        if (this.startTimestamp === null) {
          this.startTimestamp = Date.now();
          this.incrementer = setInterval(((function(_this) {
            return function() {
              return _this.step();
            };
          })(this)), 1000);
          this.statusView.update("Started time tracking ...");
        } else {
          this.statusView.update("Already tracking time ...");
        }
      } else {
        this.statusView.update("Continuing time tracking ...");
        this.pauses.push({
          start: this.pauseTimestamp,
          duration: this["break"]
        });
        this.pauseTimestamp = null;
        this["break"] = 0;
        this.clockView.removeClass("paused");
      }
      this.clockView.update(this.format());
      this.statusClearer = setInterval(((function(_this) {
        return function() {
          return _this.clearStatus();
        };
      })(this)), 3000);
      return this.isActive = true;
    };


    /* AUTO-PAUSE */

    Timer.prototype.autopause = function() {
      if (this.isActive === true) {
        if (this.autoPauseStartTimestamp !== null) {
          this.autoPauseEndTimestamp = Date.now();
          this.autoPauses.push({
            start: this.autoPauseStartTimestamp,
            end: this.autoPauseEndTimestamp
          });
          this.autoPauseStartTimestamp = null;
          return this.autoPauseEndTimestamp = null;
        } else {
          return this.autoPauseStartTimestamp = Date.now();
        }
      }
    };


    /* PAUSE */

    Timer.prototype.pause = function() {
      if (this.pauseTimestamp !== null) {
        return this.start();
      } else {
        this.pauseTimestamp = Date.now();
        this.statusView.update("Time tracking paused!");
        return this.clockView.addClass("paused");
      }
    };


    /* FINISH */

    Timer.prototype.finish = function() {
      this.endTimestamp = Date.now();
      clearTimeout(this.incrementer);
      if (this.pauseTimestamp !== null) {
        this.pauses.push({
          start: this.pauseTimestamp,
          duration: this["break"]
        });
        this.clockView.removeClass("paused");
      }
      this.save();
      this.statusView.update("Saved timekeeper data!");
      this.statusClearer = setInterval(((function(_this) {
        return function() {
          return _this.clearStatus();
        };
      })(this)), 3000);
      this.resetClocks();
      this.clockView.update(this.format());
      return this.isActive = false;
    };


    /* RESET */

    Timer.prototype.reset = function() {
      clearTimeout(this.incrementer);
      if (this.pauseTimestamp !== null) {
        this.clockView.removeClass("paused");
      }
      this.resetClocks();
      return this.start();
    };


    /* ABORT */

    Timer.prototype.abort = function() {
      clearTimeout(this.incrementer);
      if (this.pauseTimestamp !== null) {
        this.clockView.removeClass("paused");
      }
      this.resetClocks();
      this.clockView.update(this.format());
      this.statusView.update("Discarded current timekeeper data!");
      this.statusClearer = setInterval(((function(_this) {
        return function() {
          return _this.clearStatus();
        };
      })(this)), 3000);
      return this.isActive = false;
    };


    /* INTERNAL ACTIONS */


    /* STEP */

    Timer.prototype.step = function() {
      if (this.pauseTimestamp === null) {
        this.clock = this.clock + 1;
        return this.clockView.update(this.format());
      } else {
        return this["break"] = this["break"] + 1;
      }
    };


    /* RESET CLOCKS */

    Timer.prototype.resetClocks = function() {
      this.startTimestamp = null;
      this.pauseTimestamp = null;
      this.endTimestamp = null;
      this.autoPauseStartTimestamp = null;
      this.autoPauseEndTimestamp = null;
      this.clock = 0;
      this["break"] = 0;
      this.pauses = [];
      return this.autoPauses = [];
    };


    /* PERSIST */


    /* SAVE */

    Timer.prototype.save = function(timerObject) {

      /* REQUIRE */
      var autoPausesValue, clockValue, dataToSave, endValue, existingContent, finalDataToSave, pausesValue, saveFileDirectoryExists, saveFileDirectoryPath, saveFileExists, saveFilePath, saveFilePaths, startValue, timerProject, updatedContent, _i, _len, _results;
      if (fs == null) {
        fs = require("fs");
      }
      if (mkdirp == null) {
        mkdirp = require("mkdirp");
      }
      if (timerObject) {
        timerProject = timerObject.project;
        startValue = timerObject.start;
        endValue = timerObject.end;
        clockValue = timerObject.duration;
        pausesValue = timerObject.pauses;
        autoPausesValue = timerObject.autoPauses;
      } else {
        timerProject = this.currentProject;
        startValue = this.startTimestamp;
        endValue = this.endTimestamp;
        clockValue = this.clock;
        pausesValue = this.pauses;
        autoPausesValue = this.autoPauses;
      }
      dataToSave = {
        "start": startValue,
        "end": endValue,
        "duration": clockValue,
        "pauses": pausesValue,
        "autoPauses": autoPausesValue
      };
      saveFilePaths = this.getPath(timerProject, startValue, endValue, clockValue, pausesValue);
      if (saveFilePaths.length > 0) {
        _results = [];
        for (_i = 0, _len = saveFilePaths.length; _i < _len; _i++) {
          saveFilePath = saveFilePaths[_i];
          saveFileExists = fs.existsSync(saveFilePath);
          if (saveFileExists) {
            existingContent = fs.readFileSync(saveFilePath, {
              encoding: "utf8"
            });
            finalDataToSave = JSON.parse(existingContent);
          } else {
            saveFileDirectoryPath = path.dirname(saveFilePath);
            saveFileDirectoryExists = fs.existsSync(saveFileDirectoryPath);
            if (!saveFileDirectoryExists) {
              mkdirp.sync(saveFileDirectoryPath);
            }
            finalDataToSave = [];
          }
          finalDataToSave.push(dataToSave);
          updatedContent = JSON.stringify(finalDataToSave, null, 4);
          _results.push(fs.writeFileSync(saveFilePath, updatedContent, {
            encoding: "utf8"
          }));
        }
        return _results;
      }
    };


    /* PATHS */


    /* GET PATH */

    Timer.prototype.getPath = function(project, start, end, duration, pauses) {

      /* REQUIRE */
      var dataFilePaths, dateFilePath, dateInRange, dateRange, dateRangeIterator, endDateObject, pause, startDateObject, _i, _len;
      if (moment == null) {
        moment = require("moment");
      }
      if (twix == null) {
        twix = require("twix");
      }
      dataFilePaths = [];
      if (end === null) {
        end = start + (duration * 1000);
        if (pauses.length > 0) {
          for (_i = 0, _len = pauses.length; _i < _len; _i++) {
            pause = pauses[_i];
            end = end + (pause.duration * 1000);
          }
        }
      }
      startDateObject = moment(start);
      endDateObject = moment(end);
      dateRange = startDateObject.twix(endDateObject, {
        allDay: true
      });
      dateRangeIterator = dateRange.iterate("days");
      if (dateRange.count("days") <= 1) {
        dateFilePath = path.join(this.getStoragePath(), new Buffer(project, "utf8").toString("base64"), endDateObject.year().toString(), (endDateObject.month() + 1).toString(), endDateObject.date().toString() + ".json");
        dataFilePaths.push(dateFilePath);
      } else {
        while (dateRangeIterator.hasNext()) {
          dateInRange = dateRangeIterator.next();
          dateFilePath = path.join(this.getStoragePath(), new Buffer(project, "utf8").toString("base64"), dateInRange.year().toString(), (dateInRange.month() + 1).toString(), dateInRange.date().toString() + ".json");
          dataFilePaths.push(dateFilePath);
        }
      }
      return dataFilePaths;
    };


    /* SET PATH */


    /* GET PROJECT TIMEKEEPER PATH */

    Timer.prototype.getProjectTimekeeperPath = function() {
      return this.projectTimekeeperPath;
    };


    /* SET PROJECT TIMEKEEPER PATH */

    Timer.prototype.setProjectTimekeeperPath = function() {
      return this.projectTimekeeperPath = path.join(this.getStoragePath(), new Buffer(this.currentProject, "utf8").toString("base64"));
    };


    /* GET STORAGE PATH */

    Timer.prototype.getStoragePath = function() {
      return this.storagePath;
    };


    /* SET STORAGE PATH */

    Timer.prototype.setStoragePath = function() {
      if (!this.storagePath) {
        return this.storagePath = "" + (atom.getConfigDirPath()) + "/.timekeeper";
      }
    };


    /* FORMATTING */


    /* FORMAT */

    Timer.prototype.format = function() {
      var clockValue, formattedValue, hours, minutes, seconds;
      if (this.clock <= 59) {
        formattedValue = "00:00:" + (this.zeropad(this.clock));
      } else {
        clockValue = this.clock;
        seconds = Math.floor(clockValue % 60);
        clockValue = clockValue / 60;
        minutes = Math.floor(clockValue % 60);
        clockValue = clockValue / 60;
        hours = Math.floor(clockValue % 24);
        formattedValue = "" + (this.zeropad(hours)) + ":" + (this.zeropad(minutes)) + ":" + (this.zeropad(seconds));
      }
      return formattedValue;
    };


    /* ZEROPAD */

    Timer.prototype.zeropad = function(value) {
      var paddedValue;
      paddedValue = ("0" + value).slice(-2);
      return paddedValue;
    };


    /* VIEWS */


    /* STATUS BAR VIEWS */

    Timer.prototype.renderStatusBarViews = function() {

      /* REQUIRE */
      if (ClockView == null) {
        ClockView = require("./views/clock.coffee");
      }
      if (StatusView == null) {
        StatusView = require("./views/status.coffee");
      }
      if (this.clockView == null) {
        this.clockView = new ClockView();
      }
      if (this.statusView == null) {
        this.statusView = new StatusView();
      }
      this.clockView.attach();
      return this.statusView.attach();
    };


    /* CLEAR STATUS */

    Timer.prototype.clearStatus = function() {
      clearTimeout(this.statusClearer);
      if (this.pauseTimestamp === null) {
        return this.statusView.clear();
      }
    };

    return Timer;

  })();

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiIgogIF0sCiAgIm5hbWVzIjogW10sCiAgIm1hcHBpbmdzIjogIkFBQUE7QUFBQSxhQUFBO0FBQUE7QUFBQTtBQUFBLE1BQUEsNERBQUE7O0FBQUEsRUFFQSxFQUFBLEdBQUssSUFGTCxDQUFBOztBQUFBLEVBR0EsSUFBQSxHQUFPLE9BQUEsQ0FBUSxNQUFSLENBSFAsQ0FBQTs7QUFBQSxFQU1BLE1BQUEsR0FBUyxJQU5ULENBQUE7O0FBQUEsRUFTQSxJQUFBLEdBQU8sSUFUUCxDQUFBOztBQUFBLEVBWUEsTUFBQSxHQUFTLElBWlQsQ0FBQTs7QUFBQSxFQWVBLFNBQUEsR0FBWSxJQWZaLENBQUE7O0FBQUEsRUFnQkEsVUFBQSxHQUFhLElBaEJiLENBQUE7O0FBa0JBO0FBQUEsZUFsQkE7O0FBQUEsRUFtQkEsTUFBTSxDQUFDLE9BQVAsR0FDVTtBQUNGO0FBQUEsb0JBQUE7QUFBQSxvQkFDQSxXQUFBLEdBQWEsSUFEYixDQUFBOztBQUFBLG9CQUVBLHFCQUFBLEdBQXVCLElBRnZCLENBQUE7O0FBQUEsb0JBR0EsY0FBQSxHQUFnQixJQUhoQixDQUFBOztBQUFBLG9CQUlBLFNBQUEsR0FBVyxJQUpYLENBQUE7O0FBQUEsb0JBS0EsVUFBQSxHQUFZLElBTFosQ0FBQTs7QUFBQSxvQkFNQSxRQUFBLEdBQVUsS0FOVixDQUFBOztBQVFBO0FBQUEscUJBUkE7O0FBU2EsSUFBQSxlQUFFLEtBQUYsRUFBUyxZQUFULEdBQUE7QUFFVCxNQUFBLElBQUMsQ0FBQSxjQUFELEdBQWtCLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBYixDQUFBLENBQWxCLENBQUE7QUFBQSxNQUdBLElBQUMsQ0FBQSxXQUFELEdBQWUsWUFBQSxJQUFnQixJQUgvQixDQUFBO0FBQUEsTUFNQSxJQUFDLENBQUEsY0FBRCxDQUFBLENBTkEsQ0FBQTtBQVNBLE1BQUEsSUFBRyxLQUFIO0FBRUksUUFBQSxJQUFHLEtB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
//# sourceURL=/Users/josemoreira/.atom/packages/timekeeper/lib/timer.coffee