
/* IMPORTS */

(function() {
  var Reporter, fs, moment, path, twix;

  fs = require("fs");

  path = require("path");

  moment = null;

  twix = null;


  /* EXPORTS */

  module.exports = Reporter = (function() {

    /* ATTRIBUTES */
    Reporter.prototype.storagePath = null;


    /* CONSTRUCTOR */

    function Reporter() {
      this.setStoragePath();
    }


    /* ACTIONS */


    /* DATA */


    /* GET CURRENT PROJECTS */

    Reporter.prototype.getProjects = function() {
      var currentProjects, projectData, projectFolder, projectFolders, projectPath, _i, _len;
      currentProjects = [];
      projectFolders = fs.readdirSync(this.storagePath);
      for (_i = 0, _len = projectFolders.length; _i < _len; _i++) {
        projectFolder = projectFolders[_i];
        projectData = {};
        projectPath = new Buffer(projectFolder, "base64").toString("utf8");
        projectData["label"] = path.basename(projectPath);
        projectData["path"] = projectPath;
        currentProjects.push(projectData);
      }
      return currentProjects;
    };


    /* PATHS */


    /* GET STORAGE PATH */

    Reporter.prototype.getStoragePath = function() {
      return this.storagePath;
    };


    /* SET STORAGE PATH */

    Reporter.prototype.setStoragePath = function() {
      return this.storagePath = "" + (atom.getConfigDirPath()) + "/.timekeeper";
    };


    /* FORMATTING */


    /* FORMAT */

    Reporter.prototype.format = function() {
      var clockValue, formattedValue, hours, minutes, seconds;
      if (this.clock <= 59) {
        formattedValue = "00:00:" + (this.zeropad(this.clock));
      } else {
        clockValue = this.clock;
        seconds = Math.floor(clockValue % 60);
        clockValue = clockValue / 60;
        minutes = Math.floor(clockValue % 60);
        clockValue = clockValue / 60;
        hours = Math.floor(clockValue % 24);
        formattedValue = "" + (this.zeropad(hours)) + ":" + (this.zeropad(minutes)) + ":" + (this.zeropad(seconds));
      }
      return formattedValue;
    };


    /* ZEROPAD */

    Reporter.prototype.zeropad = function(value) {
      var paddedValue;
      paddedValue = ("0" + value).slice(-2);
      return paddedValue;
    };


    /* VIEWS */

    return Reporter;

  })();

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiIgogIF0sCiAgIm5hbWVzIjogW10sCiAgIm1hcHBpbmdzIjogIkFBQUE7QUFBQSxhQUFBO0FBQUE7QUFBQTtBQUFBLE1BQUEsZ0NBQUE7O0FBQUEsRUFFQSxFQUFBLEdBQUssT0FBQSxDQUFRLElBQVIsQ0FGTCxDQUFBOztBQUFBLEVBR0EsSUFBQSxHQUFPLE9BQUEsQ0FBUSxNQUFSLENBSFAsQ0FBQTs7QUFBQSxFQU1BLE1BQUEsR0FBUyxJQU5ULENBQUE7O0FBQUEsRUFTQSxJQUFBLEdBQU8sSUFUUCxDQUFBOztBQVdBO0FBQUEsZUFYQTs7QUFBQSxFQVlBLE1BQU0sQ0FBQyxPQUFQLEdBQ1U7QUFDRjtBQUFBLG9CQUFBO0FBQUEsdUJBQ0EsV0FBQSxHQUFhLElBRGIsQ0FBQTs7QUFHQTtBQUFBLHFCQUhBOztBQUlhLElBQUEsa0JBQUEsR0FBQTtBQUVULE1BQUEsSUFBQyxDQUFBLGNBQUQsQ0FBQSxDQUFBLENBRlM7SUFBQSxDQUpiOztBQVFBO0FBQUEsaUJBUkE7O0FBVUE7QUFBQSxjQVZBOztBQVdBO0FBQUEsOEJBWEE7O0FBQUEsdUJBWUEsV0FBQSxHQUFhLFNBQUEsR0FBQTtBQUVULFVBQUEsa0ZBQUE7QUFBQSxNQUFBLGVBQUEsR0FBa0IsRUFBbEIsQ0FBQTtBQUFBLE1BR0EsY0FBQSxHQUFpQixFQUFFLENBQUMsV0FBSCxDQUFnQixJQUFDLENBQUEsV0FBakIsQ0FIakIsQ0FBQTtBQU1BLFdBQUEscURBQUE7MkNBQUE7QUFFSSxRQUFBLFdBQUEsR0FBYyxFQUFkLENBQUE7QUFBQSxRQUdBLFdBQUEsR0FBa0IsSUFBQSxNQUFBLENBQVEsYUFBUixFQUF1QixRQUF2QixDQUFpQyxDQUFDLFFBQWxDLENBQTRDLE1BQTVDLENBSGxCLENBQUE7QUFBQSxRQU1BLFdBQVksQ0FBQSxPQUFBLENBQVosR0FBdUIsSUFBSSxDQUFDLFFBQUwsQ0FBZSxXQUFmLENBTnZCLENBQUE7QUFBQSxRQU9BLFdBQVksQ0FBQSxNQUFBLENBQVosR0FBc0IsV0FQdEIsQ0FBQTtBQUFBLFFBVUEsZUFBZSxDQUFDLElBQWhCLENBQXFCLFdBQXJCLENBVkEsQ0FGSjtBQUFBLE9BTkE7QUFxQkEsYUFBTyxlQUFQLENBdkJTO0lBQUEsQ0FaYixDQUFBOztBQXFDQTtBQUFBLGVBckNBOztBQXNDQTtBQUFBLDBCQXRDQTs7QUFBQSx1QkF1Q0EsY0FBQSxHQUFnQixTQUFBLEdBQUE7QUFFWixhQUFPLElBQUMsQ0FBQSxXQUFSLENBRlk7SUFBQSxDQXZDaEIsQ0FBQTs7QUEyQ0E7QUFBQSwwQkEzQ0E7O0FBQUEsdUJBNENBLGNBQUEsR0FBZ0IsU0FBQSxHQUFBO2FBRVosSUFBQyxDQUFBLFdBQUQsR0FBZSxFQUFBLEdBQUUsQ0FBQSxJQUFJLENBQUMsZ0JBQUwsQ0FBQSxDQUFBLENBQUYsR0FBMkIsZUFGOUI7SUFBQSxDQTVDaEIsQ0FBQTs7QUFnREE7QUFBQSxvQkFoREE7O0FBaURBO0FBQUEsZ0JBakRBOztBQUFBLHVCQWtEQSxNQUFBLEdBQVEsU0FBQSxHQUFBO0FBRUosVUFBQSxtREFBQTtBQUFBLE1BQUEsSUFBRyxJQUFDLENBQUEsS0FBRCxJQUFVLEVBQWI7QUFFSSxRQUFBLGNBQUEsR0FBa0IsUUFBQSxHQUFPLENBQUEsSUFBQyxDQUFBLE9BQUQsQ0FBVSxJQUFDLENBQUEsS0FBWCxDQUFBLENBQXpCLENBRko7T0FBQSxNQUFBO0FBS0ksUUFBQSxVQUFBLEdBQWEsSUFBQyxDQUFBLEtBQWQsQ0FBQTtBQUFBLFFBR0EsT0FBQSxHQUFVLElBQUksQ0FBQyxLQUFMLENBQVksVUFBQSxHQUFhLEVBQXpCLENBSFYsQ0FBQTtBQUFBLFFBTUEsVUFBQSxHQUFlLFVBQUEsR0FBYSxFQU41QixDQUFBO0FBQUEsUUFTQSxPQUFBLEdBQVUsSUFBSSxDQUFDLEtBQUwsQ0FBWSxVQUFBLEdBQWEsRUFBekIsQ0FUVixDQUFBO0FBQUEsUUFZQSxVQUFBLEdBQWUsVUFBQSxHQUFhLEVBWjVCLENBQUE7QUFBQSxRQWVBLEtBQUEsR0FBUSxJQUFJLENBQUMsS0FBTCxDQUFZLFVBQUEsR0FBYSxFQUF6QixDQWZSLENBQUE7QUFBQSxRQWtCQSxjQUFBLEdBQWlCLEVBQUEsR0FBRSxDQUFBLElBQUMsQ0FBQSxPQUFELENBQVUsS0FBVixDQUFBLENBQUYsR0FBcUIsR0FBckIsR0FBdUIsQ0FBQSxJQUFDLENBQUEsT0FBRCxDQUFVLE9BQVYsQ0FBQSxDQUF2QixHQUE0QyxHQUE1QyxHQUE4QyxDQUFBLElBQUMsQ0FBQSxPQUFELENBQVUsT0FBVixDQUFBLENBbEIvRCxDQUxKO09BQUE7QUEwQkEsYUFBTyxjQUFQLENBNUJJO0lBQUEsQ0FsRFIsQ0FBQTs7QUFnRkE7QUFBQSxpQkFoRkE7O0FBQUEsdUJBaUZBLE9BQUEsR0FBUyxTQUFFLEtBQUYsR0FBQTtBQUVMLFVBQUEsV0FBQTtBQUFBLE1BQUEsV0FBQSxHQUFjLENBQUUsR0FBQSxHQUFNLEtBQVIsQ0FBZSxDQUFDLEtBQWhCLENBQXVCLENBQUEsQ0FBdkIsQ0FBZCxDQUFBO0FBR0EsYUFBTyxXQUFQLENBTEs7SUFBQSxDQWpGVCxDQUFBOztBQXdGQTtBQUFBLGVBeEZBOztvQkFBQTs7TUFkUixDQUFBO0FBQUEiCn0=
//# sourceURL=/Users/josemoreira/.atom/packages/timekeeper/lib/reporter.coffee